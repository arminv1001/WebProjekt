<div class="card-wrapper">
  <ng-container *ngIf="sorted != undefined; else pending">
    <ng-container *ngFor="let weatherData of sorted">
      <mat-card class="card" [style.backgroundColor]="'hsl(' + (30 + 240 * (30 - weatherData?.current.temperature) / 60) + ', 70%, 50%'">
        <mat-card-header>
          <mat-card-title >{{weatherData?.location.name}}</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <p>
            Zustand: {{weatherData?.current.weather_descriptions}} <br>
            Temperatur: {{weatherData?.current.temperature}} Â°C <br>
            Land: {{weatherData?.location.country}}
          </p>
        </mat-card-content>
        <mat-card-actions>
          <button mat-button (click)="goToFlight(weatherData?.location.name)">FLUG BUCHEN</button>
        </mat-card-actions>
      </mat-card>
    </ng-container>
  </ng-container>
</div>

<ng-template #pending>
  <div class="spinner">
    <mat-spinner></mat-spinner>
  </div>
</ng-template>
